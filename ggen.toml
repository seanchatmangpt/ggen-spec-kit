# ============================================================================
# ggen Configuration - Spec-Kit Root
# ============================================================================
# Ontology-driven code generation for the Spec-Kit project
# Implements: spec.md = Î¼(specification.ttl)
#
# Usage: ggen sync
# ============================================================================

[project]
name = "spec-kit"
version = "0.1.0"
description = "RDF-first specification development toolkit"

[ontology]
# Directory containing RDF ontology files
dir = "ontology/"

[templates]
# Directory containing Tera templates
dir = "templates/"

[output]
# Output directory for generated files
dir = "src/generated/"

[pipeline]
# Five-stage transformation pipeline
stages = ["normalize", "extract", "emit", "canonicalize", "receipt"]

# ============================================================================
# TRANSFORMATION RULES - CLI Commands
# ============================================================================

[[rules]]
name = "agi-command-ops"
description = "Generate agi ops module from RDF specification"
ontology = ["ontology/cli-commands-agi.ttl"]
sparql = "sparql/extract-agi-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/agi_generated.py"

[[rules]]
name = "agi-reasoner-ops"
description = "Generate agi_reasoner ops module from RDF specification"
ontology = ["ontology/cli-commands-agi.ttl"]
sparql = "sparql/extract-agi-commands.rq"
template = "templates/agi-reasoner.tera"
output = "src/specify_cli/ops/agi_reasoner_generated.py"

[[rules]]
name = "agi-task-planner-ops"
description = "Generate agi_task_planner ops module from RDF specification"
ontology = ["ontology/agi-task-planning.ttl"]
sparql = "sparql/agi-task-extraction.rq"
template = "templates/agi-planner.tera"
output = "src/specify_cli/ops/agi_task_planner_generated.py"

[[rules]]
name = "cloud-command-ops"
description = "Generate cloud ops module from RDF specification"
ontology = ["ontology/cli-commands-cloud.ttl"]
sparql = "sparql/extract-cloud-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/cloud_generated.py"

[[rules]]
name = "dashboards-command-ops"
description = "Generate dashboards ops module"
ontology = ["ontology/cli-commands-analytics.ttl"]
sparql = "sparql/extract-analytics-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/dashboards_generated.py"

[[rules]]
name = "hd-command-ops"
description = "Generate hypothesis management ops module"
ontology = ["ontology/cli-commands-analytics.ttl"]
sparql = "sparql/extract-analytics-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/hd_generated.py"

[[rules]]
name = "hdql-command-ops"
description = "Generate HDQL query ops module"
ontology = ["ontology/cli-commands-analytics.ttl"]
sparql = "sparql/extract-analytics-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/hdql_generated.py"

[[rules]]
name = "jtbd-command-ops"
description = "Generate JTBD analysis ops module"
ontology = ["ontology/jtbd-schema.ttl", "ontology/cli-commands-analytics.ttl"]
sparql = "sparql/jtbd-extract-jobs.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/jtbd_generated.py"

[[rules]]
name = "observability-command-ops"
description = "Generate observability analysis ops module"
ontology = ["ontology/cli-commands-analytics.ttl"]
sparql = "sparql/extract-analytics-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/observability_generated.py"

[[rules]]
name = "dspy-latex-command-ops"
description = "Generate DSPy LaTeX ops module"
ontology = ["ontology/cli-commands-support.ttl"]
sparql = "sparql/extract-support-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/dspy_latex_generated.py"

[[rules]]
name = "plugin-command-ops"
description = "Generate plugin management ops module"
ontology = ["ontology/cli-commands-support.ttl"]
sparql = "sparql/extract-support-commands.rq"
template = "templates/agi-ops.tera"
output = "src/specify_cli/ops/plugin_generated.py"

# ============================================================================
# TRANSFORMATION RULES - Documentation
# ============================================================================

[[rules]]
name = "changelog-generation"
description = "Generate CHANGELOG.md from RDF specifications"
ontology = ["ontology/spec-kit-schema.ttl"]
sparql = "sparql/changelog-query.rq"
template = "templates/changelog.tera"
output = "CHANGELOG.md"

[[rules]]
name = "command-guide-generation"
description = "Generate command reference guide from RDF"
ontology = ["ontology/cli-commands.ttl", "ontology/cli-commands-agi.ttl", "ontology/cli-commands-cloud.ttl", "ontology/cli-commands-analytics.ttl", "ontology/cli-commands-support.ttl"]
sparql = "sparql/command-query.rq"
template = "templates/agi-command.tera"
output = "docs/COMMAND_REFERENCE.md"

# ============================================================================
# TRANSFORMATION RULES - Tests
# ============================================================================

[[rules]]
name = "command-test-generation"
description = "Generate command tests from RDF specifications"
ontology = ["ontology/cli-commands.ttl"]
sparql = "sparql/command-test-query.rq"
template = "templates/command-test.tera"
output = "tests/e2e/test_commands_generated.py"

# ============================================================================
# TRANSFORMATION RULES - AGI Agents
# ============================================================================

[[rules]]
name = "agi-agent-base"
description = "Generate AGI agent base classes from RDF"
ontology = ["ontology/agi-agent-schema.ttl"]
sparql = "sparql/agi-agent-extraction.rq"
template = "templates/agi-agent-base.tera"
output = "src/specify_cli/agi/agents_base_generated.py"

[[rules]]
name = "agi-agent-reasoner"
description = "Generate AGI reasoning agent from RDF"
ontology = ["ontology/agi-reasoning.ttl"]
sparql = "sparql/agi-reasoning-extraction.rq"
template = "templates/agi-agent-reasoner.tera"
output = "src/specify_cli/agi/agents_reasoner_generated.py"

[[rules]]
name = "agi-agent-orchestrator"
description = "Generate AGI orchestrator from RDF"
ontology = ["ontology/agi-agent-schema.ttl"]
sparql = "sparql/agi-agent-extraction.rq"
template = "templates/agi-orchestrator.tera"
output = "src/specify_cli/agi/orchestration_generated.py"

# ============================================================================
# TRANSFORMATION RULES - JTBD Analysis
# ============================================================================

[[rules]]
name = "jtbd-feature-effectiveness"
description = "Analyze feature effectiveness from JTBD perspective"
ontology = ["ontology/jtbd-schema.ttl"]
sparql = "sparql/jtbd-feature-effectiveness.rq"
template = "templates/agi-command.tera"
output = "docs/analysis/feature-effectiveness.md"

[[rules]]
name = "jtbd-persona-journey"
description = "Generate persona journey maps from JTBD"
ontology = ["ontology/jtbd-schema.ttl"]
sparql = "sparql/jtbd-persona-journey.rq"
template = "templates/agi-command.tera"
output = "docs/analysis/persona-journeys.md"
