// Generated by ggen from {{ ontology }}
// DO NOT EDIT THIS FILE MANUALLY - regenerate with: ggen sync

use serde::{Deserialize, Serialize};
use chrono::{DateTime, Utc};

{% for class in classes %}
/// {{ class.comment }}
#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]
pub struct {{ class.name }} {
    {% for property in class.properties %}
    /// {{ property.comment }}
    pub {{ property.name }}: {% if property.optional %}Option<{% endif %}{{ property.rust_type }}{% if property.optional %}>{% endif %},
    {% endfor %}
}

impl {{ class.name }} {
    /// Create a new {{ class.name }} instance
    pub fn new(
        {% for property in class.properties %}
        {{ property.name }}: {% if property.optional %}Option<{% endif %}{{ property.rust_type }}{% if property.optional %}>{% endif %},
        {% endfor %}
    ) -> Self {
        Self {
            {% for property in class.properties %}
            {{ property.name }},
            {% endfor %}
        }
    }

    // MANUAL: Add custom methods below this line (preserved during incremental sync)
    // Example:
    // pub fn validate(&self) -> Result<(), String> {
    //     Ok(())
    // }
}

{% endfor %}

// Enumerations
{% for enum in enumerations %}
/// {{ enum.comment }}
#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, Eq)]
pub enum {{ enum.name }} {
    {% for value in enum.values %}
    /// {{ value.label }}
    {{ value.name }},
    {% endfor %}
}

impl {{ enum.name }} {
    /// Convert to string label
    pub fn as_str(&self) -> &'static str {
        match self {
            {% for value in enum.values %}
            Self::{{ value.name }} => "{{ value.label }}",
            {% endfor %}
        }
    }
}

{% endfor %}

// Type mappings for reference:
// - xsd:string -> String
// - xsd:integer -> i64
// - xsd:boolean -> bool
// - xsd:dateTime -> DateTime<Utc>
// - Custom classes -> ClassName
// - Optional properties -> Option<Type>
